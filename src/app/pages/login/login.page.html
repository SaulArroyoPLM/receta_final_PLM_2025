<!-- login.component.html - Ionic + Angular Material -->
<ion-content class="login-container">
  <ion-grid class="login-grid">
    <ion-row class="ion-height-full">
      
      <!-- Panel izquierdo con imagen - Solo desktop -->
      <ion-col 
        size-lg="6" 
        class="left-panel ion-hide-lg-down ion-align-items-center ion-justify-content-center">
        
        <div class="left-panel-content">
          <div class="doctor-image-container">
            <img 
              src="assets/images/doctor-profile.png" 
              alt="Doctor profesional" 
              class="doctor-image" 
            />
          </div>
          
          <!-- Logo en la parte inferior -->
          <div class="logo-container">
            <img 
              src="assets/images/logo_plm.svg" 
              alt="logo_plm" 
              class="logo_plm" 
            />
          </div>
        </div>
      </ion-col>

      <!-- Panel derecho con formulario -->
      <ion-col 
        size="12" 
        size-lg="6" 
        class="right-panel ion-align-items-center ion-justify-content-center">
        
        <!-- Header móvil con logo -->
        <div class="mobile-header ion-hide-lg-up ion-text-center ion-margin-bottom">
          <div class="mobile-logo-container">
            <img 
              src="assets/images/logoplmreceta.svg" 
              alt="logo_plm" 
              class="mobile-logo" 
            />
          </div>
        </div>

        <div class="form-wrapper">
          <!-- Header -->
          <div class="ion-text-center ion-margin-bottom">
            <h1 class="welcome-title">
              Hola, bienvenido(a)
              <span class="wave-emoji">👋</span>
            </h1>
            <p class="welcome-subtitle">
              Crea tu cuenta para comenzar a recetar de forma
              <br class="ion-hide-md-down" />
              digital, segura y personalizada
            </p>
          </div>

          <!-- Formulario -->
          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
            
            <!-- Campo Email -->
            <mat-form-field appearance="fill" class="form-field ion-margin-bottom">
              <mat-label>Email</mat-label>
              <input 
                matInput 
                type="email" 
                formControlName="email" 
                placeholder="Ingresa tu email"
              />
              <mat-error *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                {{ getEmailErrorMessage() }}
              </mat-error>
            </mat-form-field>

            <!-- Campo Contraseña -->
            <mat-form-field appearance="fill" class="form-field ion-margin-bottom">
              <mat-label>Contraseña</mat-label>
              <input 
                matInput 
                [type]="hidePassword ? 'password' : 'text'" 
                formControlName="password" 
                placeholder="Ingresa tu contraseña"
              />
              <button 
                mat-icon-button 
                matSuffix 
                type="button" 
                (click)="togglePasswordVisibility()" 
                [attr.aria-label]="'Hide password'" 
                [attr.aria-pressed]="hidePassword"
              >
                <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
              </button>
              <mat-error *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                {{ getPasswordErrorMessage() }}
              </mat-error>
            </mat-form-field>

            <!-- Remember me y Forgot password -->
            <ion-row class="form-options ion-align-items-center ion-justify-content-between ion-margin-bottom">
              <ion-col size="auto">
                <mat-checkbox 
                  formControlName="remember" 
                  class="example-margin">
                  <span class="recordar">Recordar</span>
                </mat-checkbox>
              </ion-col>
              <ion-col size="auto">
              <button mat-button (click)="abrirModalRecordar()">¿Olvidaste tu contraseña?</button>
              </ion-col>
            </ion-row>

            <!-- Botón de login -->
            <ion-button 
              expand="block" 
              type="submit" 
              class="login-button ion-margin-bottom" 
              [disabled]="loginForm.invalid"
              (click)="onSubmit()">
              Iniciar sesión
            </ion-button>

            <!-- Link de registro -->
            
<ion-button  expand="block" 
fill="clear"
              type="submit" 
              class="login-button ion-margin-bottom" 
                  (click)="abrirRegistro()"
                  class="register-button">
                  Registrarse
</ion-button>

          </form>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>